<!--pages/activity/activity.wxml-->
<cu-custom  bgColor="bg-keda-blue" isBack="{{false}}"><view slot="backText">返回</view>
	<view slot="content">群组</view>
</cu-custom>
<view class="containerActivity">
  <view class="activityTop">
	<view class="activitySearch" bindtap="jumpSearch">
		<image class="activityBgImg" src="../../images/activity/search.png"></image>
		<text class="activitySideText">搜索</text>
		<text class="activityText">792</text>
	</view>
	<view class="activityRocket" bindtap="jumpRelease">
		<image class="activityBgImg" src="../../images/activity/rocket.png"></image>
		<text class="activitySideText">发布</text>
		<text class="activityText">2</text>
	</view>
  </view>
  <view>
	<scroll-view scroll-x class="bg-white nav text-center">
		<view class="cu-item {{0==TabCur?'text-blue cur':''}}"  bindtap="tabSelect" data-id="{{0}}">
			推荐
		</view>
		<view class="cu-item {{1==TabCur?'text-blue cur':''}}" bindtap="tabSelect" data-id="{{1}}">
			我的
		</view>
		<view class="cu-item {{2==TabCur?'text-blue cur':''}}" bindtap="tabSelect" data-id="{{2}}">
			收藏
		</view>
	</scroll-view>
	<!-- 推荐 -->
	<view  hidden="{{0!=TabCur}}" class="">
		<van-empty description="空空如也" wx:if="{{recommendGroupList.length == 0}}"/>
			<view class="">
				<view class="cu-list menu-avatar">
					<view wx:for="{{recommendGroupList}}" wx:key="index" class="cu-item solid-top {{toggleDelayOne?'animation-fade':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}" bindtap="jumpDetail">
						<ab-easy-image error="../../images/group.png" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</ab-easy-image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
							
						</view>
					</view>
					<view wx:if="{{recommendGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
	</view>
	<!-- 我的 -->
	<view  hidden="{{1!=TabCur}}" class="">
		<van-empty description="空空如也" wx:if="{{myGroupList.length == 0}}"/>
			<view class="">				
				<view class="cu-list menu-avatar">
					<view wx:for="{{myGroupList}}" wx:key="index" class="cu-item solid-top {{toggleDelayTwo?'animation-fade':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}"  bindtap="jumpDetail">
						<ab-easy-image error="../../images/group.png" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</ab-easy-image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
						</view>
					</view>
					<view wx:if="{{myGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
	</view>
	<!-- 推荐 -->
	<view  hidden="{{2!=TabCur}}" class="">
		<van-empty description="空空如也" wx:if="{{collectionGroupList.length == 0}}"/>
			<view class="">
				<view class="cu-list menu-avatar">
					<view  wx:for="{{collectionGroupList}}" wx:key="index"  class="cu-item solid-top {{toggleDelayThree?'animation-fade':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}" bindtap="jumpDetail">
						<ab-easy-image error="../../images/group.png" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</ab-easy-image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
						</view>
					</view>
					<view wx:if="{{collectionGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
	</view>


  <wxs module="m3">
	function format(str) {
		if(str == null) return 'http://' //让其加载失败
		console.log(str.split(';'))
		return	str.split(';')[1]
	}
	module.exports.format = format
  </wxs>
	<!-- <van-tabs 
		id="tabs"
		active="{{active}}"
		animated
		swipeable
		color="#2d7ecd"
		title-active-color="#2d7ecd"
		bind:change="activeChange"
	>
		<van-tab title="推荐">
			<van-empty description="空空如也" wx:if="{{recommendGroupList.length == 0}}"/>
			<view class="">
				<view class="cu-list menu-avatar">
					<view wx:for="{{recommendGroupList}}" wx:key="index" class="cu-item solid-top {{toggleDelay?'animation-slide-bottom':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}" bindtap="jumpDetail">
						<image mode="aspectFill" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
							
						</view>
					</view>
					<view wx:if="{{recommendGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
		</van-tab>
		<van-tab title="我的">
			<van-empty description="空空如也" wx:if="{{myGroupList.length == 0}}"/>
			<view class="">				
				<view class="cu-list menu-avatar">
					<view wx:for="{{myGroupList}}" wx:key="index" class="cu-item solid-top {{toggleDelay?'animation-slide-bottom':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}"  bindtap="jumpDetail">
						<image mode="aspectFill" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
						</view>
					</view>
					<view wx:if="{{myGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
		</van-tab>
		<van-tab title="收藏">
			<van-empty description="空空如也" wx:if="{{collectionGroupList.length == 0}}"/>
			<view class="">
				<view class="cu-list menu-avatar">
					<view  wx:for="{{collectionGroupList}}" wx:key="index"  class="cu-item solid-top {{toggleDelay?'animation-slide-bottom':''}}" style="animation-delay: {{(index+1)*0.1}}s;" data-id="{{item.deptId}}" bindtap="jumpDetail">
						<image mode="aspectFill" class="cu-avatar radius lg" src="{{m3.format(item.avatar)}}">
							
						</image>
						<view class="content">
							<view class="text-grey">
								<text class="text-cut">{{item.deptName}}</text>
								<view class="cu-tag round bg-blue sm">{{dict_ga_group_status[item.status].dictLabel}}</view>
								<view class="cu-tag round bg-cyan sm">{{item.activityNumber}}</view>
							</view>
							<view class="text-gray text-sm flex">
							<text class="text-cut">{{groupClassificationMap[item.type]}}-{{item.parentName}}</text>
							</view>
						</view>
						<view class="action">
							<view class="cu-capsule round">
								<view class="cu-tag bg-blue sm">
									<text class="cuIcon-peoplelist"></text>
								</view>
								<view class="cu-tag line-blue sm">
									{{item.memberNumber}}
								</view>
							</view>
						</view>
					</view>
					<view wx:if="{{collectionGroupList.length >= 10}}" class="cu-load bg-white {{isLoading?'loading':'over'}}"></view>
				</view>
			</view>
		</van-tab>
	</van-tabs> -->
  </view>
</view>
